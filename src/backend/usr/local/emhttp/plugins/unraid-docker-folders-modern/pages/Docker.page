Menu="Docker"
Title="Folders"
Icon="folder"
Type="php"
---
<?php
require_once '/usr/local/emhttp/plugins/unraid-docker-folders-modern/include/config.php';

// Check if database exists
$dbExists = file_exists(DB_PATH);
?>

<style>
.docker-folders-container {
    margin: 0;
    padding: 0;
}

.docker-folders-container iframe {
    width: 100%;
    height: calc(100vh - 150px);
    min-height: 600px;
    border: none;
    display: block;
}

.error-box {
    max-width: 600px;
    margin: 50px auto;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-left: 4px solid #f44336;
}

.error-box h2 {
    margin: 0 0 15px 0;
    color: #f44336;
}

.error-box p {
    margin: 10px 0;
    color: #666;
}

.error-box code {
    background: #f5f5f5;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Courier New', monospace;
}
</style>

<div class="docker-folders-container">
<?php if (!$dbExists): ?>
    <div class="error-box">
        <h2>⚠️ Configuration Error</h2>
        <p>Database not initialized. Please reinstall the plugin.</p>
        <p>Database path: <code><?= htmlspecialchars(DB_PATH) ?></code></p>
    </div>
<?php else: ?>
    <iframe src="/plugins/<?= PLUGIN_NAME ?>/assets/index.html" title="Docker Folders Modern Interface"></iframe>
<?php endif; ?>
</div>
